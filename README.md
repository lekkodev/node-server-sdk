# Lekko Node Server SDK
The Lekko Server SDK for Node.js

## Getting Started

### Installation
`lekko/node-server-sdk` depends on source code generated by Buf which us hosted on their NPM registry. Prior to adding the Lekko SDK, configure NPM to use Buf's NPM registry for `@buf` scoped packages.

NPM:
```
npm config set @buf:registry https://buf.build/gen/npm/v1
```

Yarn:
```
yarn config set @buf:registry https://buf.build/gen/npm/v1
```

### Initializing a Lekko client in Sidecar provider mode
```
const client = await initSidecarClient({
    hostname: "http://localhost:50051",
    repositoryOwner: "<REPOSITORY_OWNER>", 
    repositoryName: "<REPOSITORY_NAME>",
});
const stringFeature = await client.getStringFeature("my_namespace", "my_feature", new lekko.ClientContext().setString("my_context_key", "my_context_value"));
```
### Initializing a Lekko client in API provider mode
```
const client = await lekko.initAPIClient(
    {
      apiKey: "<API_KEY>",
      repositoryOwner: "<REPOSITORY_OWNER>",
      repositoryName: "<REPOSITORY_NAME>"
    }
  )
  
  const boolFeature = await client.getBoolFeature("default", "example", new lekko.ClientContext().setString("my_context_key", "my_context_value"));
```

## Example
See: https://github.com/lekkodev/node-server-sdk/tree/main/example
